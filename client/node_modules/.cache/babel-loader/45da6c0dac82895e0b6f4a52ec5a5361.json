{"ast":null,"code":"import _objectSpread from\"/Users/obbybedford/Desktop/Art/my-art/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/obbybedford/Desktop/Art/my-art/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link}from'react-router-dom';import{pluralize}from'../../utils/helpers';import{useStoreContext}from\"../../utils/GlobalState\";import{ADD_TO_CART,UPDATE_CART_QUANTITY}from\"../../utils/actions\";import{idbPromise}from\"../../utils/helpers\";// import Love from '../assests/paintings/reds/love.jpg';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductItem(item){var _useStoreContext=useStoreContext(),_useStoreContext2=_slicedToArray(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var image=item.image,name=item.name,_id=item._id,price=item.price,quantity=item.quantity;var cart=state.cart;var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===_id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:_id,purchaseQuantity:parseInt(itemInCart.purchaseQuanity)+1});idbPromise('cart','put',_objectSpread(_objectSpread({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:_objectSpread(_objectSpread({},item),{},{purchaseQuantity:1})});idbPromise('cart','put',_objectSpread(_objectSpread({},item),{},{purchaseQuantity:1}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(_id),children:[/*#__PURE__*/_jsx(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/_jsx(\"p\",{children:name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[quantity,\" \",pluralize(\"item\",quantity),\" in stock\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$750\",price]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"addBtn\",onClick:addToCart,children:\"Add to cart\"})]});}export default ProductItem;","map":{"version":3,"sources":["/Users/obbybedford/Desktop/Art/my-art/client/src/components/ProductItem/index.js"],"names":["React","Link","pluralize","useStoreContext","ADD_TO_CART","UPDATE_CART_QUANTITY","idbPromise","ProductItem","item","state","dispatch","image","name","_id","price","quantity","cart","addToCart","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","purchaseQuanity","product"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,SAAT,KAA0B,qBAA1B,CACA,OAASC,eAAT,KAAgC,yBAAhC,CACA,OAASC,WAAT,CAAsBC,oBAAtB,KAAkD,qBAAlD,CACA,OAASC,UAAT,KAA0B,qBAA1B,CACA;wFAEA,QAASC,CAAAA,WAAT,CAAqBC,IAArB,CAA2B,CACvB,qBAA0BL,eAAe,EAAzC,sDAAOM,KAAP,sBAAcC,QAAd,sBAEA,GACIC,CAAAA,KADJ,CAMIH,IANJ,CACIG,KADJ,CAEIC,IAFJ,CAMIJ,IANJ,CAEII,IAFJ,CAGIC,GAHJ,CAMIL,IANJ,CAGIK,GAHJ,CAIIC,KAJJ,CAMIN,IANJ,CAIIM,KAJJ,CAKIC,QALJ,CAMIP,IANJ,CAKIO,QALJ,CAQA,GAAQC,CAAAA,IAAR,CAAiBP,KAAjB,CAAQO,IAAR,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,GAAMC,CAAAA,UAAU,CAAGF,IAAI,CAACG,IAAL,CAAU,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACP,GAAT,GAAiBA,GAA/B,EAAV,CAAnB,CACA,GAAIK,UAAJ,CAAgB,CACZR,QAAQ,CAAC,CACLW,IAAI,CAAEhB,oBADD,CAELQ,GAAG,CAAEA,GAFA,CAGLS,gBAAgB,CAAEC,QAAQ,CAACL,UAAU,CAACM,eAAZ,CAAR,CAAuC,CAHpD,CAAD,CAAR,CAKAlB,UAAU,CAAC,MAAD,CAAS,KAAT,gCACHY,UADG,MAENI,gBAAgB,CAAEC,QAAQ,CAACL,UAAU,CAACI,gBAAZ,CAAR,CAAwC,CAFpD,GAAV,CAIH,CAVD,IAUO,CACHZ,QAAQ,CAAC,CACLW,IAAI,CAAEjB,WADD,CAELqB,OAAO,gCAAMjB,IAAN,MAAYc,gBAAgB,CAAE,CAA9B,EAFF,CAAD,CAAR,CAIAhB,UAAU,CAAC,MAAD,CAAS,KAAT,gCAAoBE,IAApB,MAA0Bc,gBAAgB,CAAE,CAA5C,GAAV,CACH,CACJ,CAnBD,CAqBA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,MAAC,IAAD,EAAM,EAAE,qBAAeT,GAAf,CAAR,wBACI,YACA,GAAG,CAAED,IADL,CACW,GAAG,mBAAaD,KAAb,CADd,EADJ,cAII,mBAAIC,IAAJ,EAJJ,GADJ,cAOI,oCACI,uBAAMG,QAAN,KAAiBb,SAAS,CAAC,MAAD,CAASa,QAAT,CAA1B,eADJ,cAEI,+BAAWD,KAAX,GAFJ,GAPJ,cAWI,eAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAEG,SAApC,yBAXJ,GADJ,CAeH,CAED,cAAeV,CAAAA,WAAf","sourcesContent":["import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport { pluralize } from '../../utils/helpers';\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise} from \"../../utils/helpers\";\n// import Love from '../assests/paintings/reds/love.jpg';\n\nfunction ProductItem(item) {\n    const [state, dispatch] = useStoreContext();\n\n    const {\n        image,\n        name,\n        _id,\n        price,\n        quantity,\n    } = item;\n\n    const { cart } = state\n    \n    const addToCart = () => {\n        const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n        if (itemInCart) {\n            dispatch({\n                type: UPDATE_CART_QUANTITY,\n                _id: _id,\n                purchaseQuantity: parseInt(itemInCart.purchaseQuanity) + 1\n            });\n            idbPromise('cart', 'put', {\n                ...itemInCart,\n                purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n            });\n        } else {\n            dispatch({\n                type: ADD_TO_CART,\n                product: {...item, purchaseQuantity: 1}\n            });\n            idbPromise('cart', 'put', {...item, purchaseQuantity: 1 });\n        }\n    }\n\n    return (\n        <div className=\"card px-1 py-1\">\n            <Link to={`/products/${_id}`}>\n                <img\n                alt={name} src={`/images/${image}`}\n                />\n                <p>{name}</p>\n            </Link>\n            <div>\n                <div>{quantity} {pluralize(\"item\", quantity)} in stock</div> \n                <span>$750{price}</span>\n            </div>\n            <button className=\"addBtn\" onClick={addToCart}>Add to cart</button>\n        </div>\n    );\n}\n\nexport default ProductItem;"]},"metadata":{},"sourceType":"module"}